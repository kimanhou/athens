{"ast":null,"code":"import _slicedToArray from\"/Users/kimanhnguyen/Documents/Sites/Athens/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createContext,useState}from'react';import Local from'./Local';import{jsx as _jsx}from\"react/jsx-runtime\";var getDefaultLocal=function getDefaultLocal(){var languages=[];if(navigator.languages!=null){languages=navigator.languages.slice();}else{languages=[navigator.language];}languages=languages.map(function(lang){return lang.slice(0,2).toUpperCase();});while(languages.length>0){var language=languages.shift();if(Local.EN.getShortName()===language){return Local.EN;}if(Local.FR.getShortName()===language){return Local.FR;}}return Local.EN;};export var LocalValueContext=/*#__PURE__*/createContext(Local.EN);export var SetLocalContext=/*#__PURE__*/createContext(function(local){});var LocalContext=function LocalContext(props){var _useState=useState(function(){return getDefaultLocal();}),_useState2=_slicedToArray(_useState,2),local=_useState2[0],setLocal=_useState2[1];return/*#__PURE__*/_jsx(SetLocalContext.Provider,{value:setLocal,children:/*#__PURE__*/_jsx(LocalValueContext.Provider,{value:local,children:props.children})});};export default LocalContext;","map":{"version":3,"sources":["/Users/kimanhnguyen/Documents/Sites/Athens/src/view/components/LocalisationContext/LocalContext.tsx"],"names":["React","createContext","useState","Local","getDefaultLocal","languages","navigator","slice","language","map","lang","toUpperCase","length","shift","EN","getShortName","FR","LocalValueContext","SetLocalContext","local","LocalContext","props","setLocal","children"],"mappings":"iKAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,CAA+BC,QAA/B,KAA+C,OAA/C,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,C,2CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC1B,GAAIC,CAAAA,SAAoB,CAAG,EAA3B,CACA,GAAIC,SAAS,CAACD,SAAV,EAAuB,IAA3B,CAAgC,CAC5BA,SAAS,CAAGC,SAAS,CAACD,SAAV,CAAoBE,KAApB,EAAZ,CACH,CAFD,IAGK,CACDF,SAAS,CAAG,CAACC,SAAS,CAACE,QAAX,CAAZ,CACH,CACDH,SAAS,CAAGA,SAAS,CAACI,GAAV,CAAc,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACH,KAAL,CAAW,CAAX,CAAc,CAAd,EAAiBI,WAAjB,EAAJ,EAAlB,CAAZ,CACA,MAAMN,SAAS,CAACO,MAAV,CAAmB,CAAzB,CAA2B,CACvB,GAAIJ,CAAAA,QAAQ,CAAGH,SAAS,CAACQ,KAAV,EAAf,CACA,GAAGV,KAAK,CAACW,EAAN,CAASC,YAAT,KAA4BP,QAA/B,CAAwC,CACpC,MAAOL,CAAAA,KAAK,CAACW,EAAb,CACH,CACD,GAAGX,KAAK,CAACa,EAAN,CAASD,YAAT,KAA4BP,QAA/B,CAAwC,CACpC,MAAOL,CAAAA,KAAK,CAACa,EAAb,CACH,CACJ,CACD,MAAOb,CAAAA,KAAK,CAACW,EAAb,CACH,CAnBD,CAqBA,MAAO,IAAMG,CAAAA,iBAAiB,cAAGhB,aAAa,CAACE,KAAK,CAACW,EAAP,CAAvC,CACP,MAAO,IAAMI,CAAAA,eAAe,cAAGjB,aAAa,CAAC,SAACkB,KAAD,CAAmB,CAAE,CAAtB,CAArC,CAEP,GAAMC,CAAAA,YAAuB,CAAG,QAA1BA,CAAAA,YAA0B,CAAAC,KAAK,CAAI,CACrC,cAA0BnB,QAAQ,CAAC,iBAAME,CAAAA,eAAe,EAArB,EAAD,CAAlC,wCAAOe,KAAP,eAAcG,QAAd,eACA,mBACI,KAAC,eAAD,CAAiB,QAAjB,EAA0B,KAAK,CAAEA,QAAjC,uBACI,KAAC,iBAAD,CAAmB,QAAnB,EAA4B,KAAK,CAAEH,KAAnC,UACKE,KAAK,CAACE,QADX,EADJ,EADJ,CAOH,CATD,CAUA,cAAeH,CAAAA,YAAf","sourcesContent":["import React, { createContext, useState } from 'react';\nimport Local from './Local';\n\nconst getDefaultLocal = () => {\n    let languages : string[] = [];\n    if (navigator.languages != null){\n        languages = navigator.languages.slice();\n    }\n    else {\n        languages = [navigator.language];\n    }\n    languages = languages.map(lang => lang.slice(0, 2).toUpperCase());\n    while(languages.length > 0){\n        let language = languages.shift();\n        if(Local.EN.getShortName() === language){\n            return Local.EN;\n        }\n        if(Local.FR.getShortName() === language){\n            return Local.FR;\n        }\n    }\n    return Local.EN;\n}\n\nexport const LocalValueContext = createContext(Local.EN);\nexport const SetLocalContext = createContext((local : Local) => {});\n\nconst LocalContext : React.FC = props => {\n    const [local, setLocal] = useState(() => getDefaultLocal());\n    return (\n        <SetLocalContext.Provider value={setLocal}>\n            <LocalValueContext.Provider value={local}>\n                {props.children}\n            </LocalValueContext.Provider>\n        </SetLocalContext.Provider>\n    )\n}\nexport default LocalContext;"]},"metadata":{},"sourceType":"module"}